{"note":"Don't delete this file! It's used internally to help with page regeneration.","google":"","name":"Jcollectd","body":"## jcollectd - Java integration for collectd\r\n\r\n### collectd\r\n\r\n[collectd](http://collectd.org) is a lightweight, extensible system statistics gathering\r\ndaemon written in C for performance and portability.  In-process\r\nplugins can be written in C or Perl.  Out-of-process plugins are\r\nexecuted on each collection interval or can put values via the\r\nunixsock plugin.\r\n\r\n### jcollectd\r\n\r\nThe jcollectd package implements the collectd protocol in Java, making\r\nit possible for Java applications to push data into collectd over the\r\nwire.  A Java app can configure JMX MBean attributes to be collected,\r\nor use the Java client API directly. \r\n\r\nThe listener side of the protocol is also supported, including an\r\nimplementation that registers JMX MBeans making it possible to view\r\ncollectd data using a graphical tool such as jconsole.\r\n\r\nThere is no installation process for jcollectd, as all required files\r\nare self-contained in *collectd.jar* with no dependecies other than\r\nJava version 5 or higher.  The command-line and java configuration\r\noptions required to use the package are described below.\r\n    \r\n### MBeanReceiver\r\n\r\nThe **MBeanReceiver** class listens for collectd packets and publishes the\r\ndata as JMX MBeans.  A summary MBean is created to aggregate metrics, where\r\nthe attributes values are the average across all instances.\r\nThe MBeans can be viewed using a tool such as the standard jconsole.\r\nThe MBeanReceiver can be started using the following command:\r\n\r\n        java -jar collectd.jar\r\n\r\n#### Examples\r\n\r\n* Listen on the default IPv4 multicast group **239.192.74.66:25826**:\r\n\r\n        java -jar collectd.jar -jconsole\r\n\r\n* Listen on the IPv4 unicast address **127.0.0.1:25827** and start\r\n  jconsole attached locally to the collectd.jar process:\r\n\r\n        java -Djcd.laddr=127.0.0.1:25827 -jar collectd.jar -jconsole\r\n\r\n* Listen on the default IPv4 multicast group and allow remote JMX\r\n  connections to RMI/TCP port *25826*:\r\n\r\n        java -Dcom.sun.management.jmxremote.port=25826 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -jar collectd.jar\r\n\r\n* Connect to the MBeanServer example above from another machine:\r\n\r\n        jconsole the-remote-hostname:25826\r\n\r\n#### Configuration\r\n\r\n* jcd.laddr - UDP listen address, the default is **239.192.74.66:25826**.\r\n  Example:\r\n\r\n        jcd.laddr=localhost:25826\r\n\r\n* jcd.ifaddr - The multicast network interface, default is any.\r\n  Example:\r\n\r\n        jcd.ifaddr=eth2\r\n\r\n* jcd.typesdb - collectd types database files, default is types.db from collectd.jar\r\n  Example:\r\n\r\n        jcd.typesdb=/opt/collectd/lib/types.db:./mytypes.db\r\n\r\n* jcd.mx.summary - Enable summary MBean aggregator, the default is false.\r\n  Example:\r\n\r\n        jcd.mx.summary=true\r\n\r\n* jcd.mx.pluginsummary - Enable summary MBean aggregator for each plugin (each means with multiple type instances), the default is false.\r\n  Example:\r\n\r\n        jcd.mx.pluginsummary=true\r\n\r\n* jcd.mx.hosts - Filter displayed hosts using a regex, the default is .*.\r\n  Example:\r\n\r\n        jcd.mx.hosts=dev|qa\r\n\r\n### MBeanSender\r\n\r\nAny Java application can be configured to publish MBean data without\r\nany code changes.  The following example will push java.lang:* MBeans\r\nto the default collectd multicast group:\r\n\r\n        java -Djcd.tmpl=java -javaagent:collectd.jar YourMainClass\r\n\r\nTomcat example:\r\n\r\n        export CATALINA_OPTS=\"-Djcd.instance=hudson -Djcd.dest=udp://10.1.0.102 -Djcd.tmpl=java,tc -javaagent:collectd.jar\"\r\n        ./bin/catalina.sh start\r\n\r\n#### Configuration\r\n\r\nThe jcd.* properties can be defined as System properties or in the\r\njcd.properties file:\r\n\r\n* jcd.dest - UDP destination(s), the default is\r\n  **239.192.74.66:25826**.  Example:\r\n\r\n        jcd.dest=udp://localhost:25826\r\n\r\n* jcd.tmpl - jcollectd.xml MBean filter templates (see etc/).  Example:\r\n\r\n        jcd.tmpl=java,tc\r\n\r\n* jcd.host - The collectd host (Hostname in collectd.conf) defaults to InetAddress.getLocalHost().getHostName().  Example:\r\n\r\n        jcd.host=myhost\r\n\r\n* jcd.instance - The collectd Plugin Instance, defaults to\r\n  *java.lang:type=Runtime:Name*.  Example:\r\n\r\n        jcd.instance=tc01\r\n\r\n* jcd.beans - ObjectName(s) which are not defined in a filter\r\n  template.  The ObjectName can be a pattern or fully qualified.\r\n  Multiple ObjectNames are delimited using `#`.  All attributes\r\n  for the matching MBeans will be collected where the attribute value\r\n  is a *Number*.  Example:\r\n  \r\n        jcd.beans=mydomain:*#foo:type=Stats#bar:type=App,*\r\n\r\n* jcd.properties - Path to the jcd.properties file which can be used\r\n  to define all of the above properties.  Example:\r\n\r\n        jcd.properties=/path/to/my-jcd.properties\r\n\r\n#### XML MBean filters\r\n\r\nThe MBean filters provide a way to define exactly which MBean\r\nattributes should be collected, how they should be named in collectd\r\nand what type the metric is.  See the etc/ directory for examples.\r\nThe format is currently subject to change pending feedback and\r\ndocumentation will follow.\r\n\r\n### Download\r\n\r\n* [git repo](http://github.com/hyperic/jcollectd)\r\n\r\n* [tarball](http://support.hyperic.com/download/attachments/60621258/jcollectd-0.1.0.tar.gz)\r\n\r\n### See Also\r\n\r\n* [collectd](http://collectd.org) - the system statistics collection daemon\r\n\r\n* [collectd jmx plugin](http://marc.info/?l=collectd&w=2&r=1&s=jmx&q=b) - Embeds a JVM in collectd\r\n\r\n* [jmxetric](http://code.google.com/p/jmxetric/) - JMX injector for Ganglia\r\n\r\n### About\r\n\r\nCopyright (c) 2009 [Hyperic, Inc.](http://www.hyperic.com/) - See LICENSE\r\n\r\nFor feedback and discussion, please use collectd's mailinglist: collectd at verplant.org\r\n","tagline":"Java integration for collectd"}